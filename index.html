<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Sustainable train Transport</title>
		<link rel="stylesheet" type="text/css" href="style.css">
		<!-- Responsive design, URL: http://www.catswhocode.com/blog/making-a-website-responsive-in-3-easy-steps -->
		<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="HandheldFriendly" content="true">
		<script src="http://maps.googleapis.com/maps/api/js?libraries=geometry&key=AIzaSyAxQgEL8Q3GPJJXbJzhkYXs-KhPX1wL5s0"></script>


	</head>

	<body>
		
		<header>
				<img id="logo" src="pics/logo.png" alt="Camel Caravan"> 
				<!-- https://l.facebook.com/l.php?u=https%3A%2F%2Fcommons.wikimedia.org%2Fwiki%2FFile%3ACamels_Caravan.jpg&h=ATOZOe7Y4lDDtJJq5fIZQP7uoQxMJII-byXY3oPPI7AE1IaujqqEcDaQEVRLBT09FFOPfnOD53KO2vuEaebL3IxCtwHBACfZUIrNH8JeKA5YYpcnBZiO9ERqM85BM3LXLw00iANsZFg -->
			<h1>
				The 21<sup>st</sup> Century Silk Road
			</h1>
		</header>
		
		<div id="menu">
			<li>
				<a href="index.html">Home</a>
			</li>
            
			<li>
				<a href="obor.html">OBOR</a>
			</li>
            
			<li>
				<a href="sustainability.html">Sustainability</a>
			</li>

			<li>
				<a href="media.html">Media</a>
			</li>
			
			<li>
				<a href="diary.html">Diary</a>
			</li>
		</div>		
		
		<div class="intro_artc">
			<section class="intro_article">
			<p>
				Movement of goods is a fundamental component of human society as it enables 
				trade between people, which is essential for the development of nations. 
				Nearly 90% of what we consume has been imported. And it’s not just consumer 
				goods – clothing, laptops, car parts – but also dry bulk goods, from grain 
				to timber and coal for power stations. The majority of trade volume is 
				transported by sea and is growing at an average rate of over 8.5 percent 
				every year. Certain factors, however, including port congestion, escalating 
				fuel costs leading to ships slowing down (slow steaming), as well as security 
				reasons (piracy) have prompted the search for shipping alternatives.
				<sup>[1]</sup>
			</p>
			<p>
				When transporting goods and bulk commodity items over large distances, shipping
				by rail is an ideal option, but is typically seen primarily as part of an 
				intermodal chain rather than the sole option. China is trying to change this 
				way of thinking. In 2013, President Xi Jinping unveiled a plan to reinvigorate 
				the ancient Silk Roads, which connects Asia and Europe with modern infrastructure 
				across the regions.<sup>[2]</sup> The plan, known as “One Belt, One Road” (OBOR) consists 
				of two parts: the “Silk Road Economic Belt” (the land route) and the “21st Century 
				Maritime Silk Road.”
			</p>
			</section>
		</div>

		<div class="line_top"></div>
		
		<div class="intro_artc">
			<section class="intro_article">
				<p class="title">
					<strong>
						Relevance to the EU...
					</strong>
				</p>
				
				<p>
					Given that Europe is the final destination of the New Silk Road, they are a key 
					part of the OBOR initiative. In terms of goods traded in the world, the European 
					Union is China’s largest trading partner and is a significant source of income for 
					both regions, as well as the countries located in between.  As such, demand for 
					rail cargo service has exploded in recent years because it offers an alternative 
					to slower and riskier sea freight, and air cargo, which is far more expensive. 
					China’s “Silk Road Economic Belt” connects China and Europe via Central and 
					Western Asia. Using a dedicated railway train, the door-to-door delivery time of 
					containers from China to Europe is currently about 15 days. In comparison, 
					post-Panamax ships carrying over 10,000 containers take 35 days from Asia to 
					Europe, or 45 days if they are too big for the Suez Canal and have to round the 
					Horn of Africa.<sup>[3]</sup> 
				</p>
			</section>
		</div>		
		
		<section>
			<div
				id="map">
			</div>	
		</section>
		
		<div class="intro_artc">
			<section class="intro_article">
				<p>		
					Here on the map, we feature the first China-Europe railway of the “Silk Road Economic Belt,” 
					the Chongqing-Xinjiang-Europe route, which takes only 15 days. Operating since 2011, it is 
					the world’s longest railway covering 11,179 km through 6 countries (China, Kazakhstan, Russia, 
					Belarus, Poland, and Germany). The train travels between Chongqing, China (the world’s largest 
					city with a population of 32 million) to Duisburg, Germany, which is the world’s biggest inland 
					port and a EU transport and logistics hub.<sup>[4]</sup> The ship represents the current route for the 
					21st Century Maritime Silk Road, from Chinese coastal cities, via the South China Sea to the 
					Indian Ocean, through the Suez Canal, to Europe via the ports of the Mediterranean. The 
					alternative route, as seen on our map, via the English Channel, takes 3 times as long as rail, 
					at 45 days.   
				</p>
		</div>
		
		<div class="line_bottom"></div>		
		
		<div class="references">
			<h6>
				<em>
					<a class="text_link" href="https://www.unece.org/fileadmin/DAM/trans/publications/Transport_for_sustainable_development_in_the_ECE_region.pdf">
						[1] UNECE Transport Division. 2011. Transport for Sustainable Development in the ECE Region. 1-131. Accessed June 20, 2017.
					</a>						
				</em>
			</h6>

			<h6>
				<em>
					<a class="text_link" href="http://euap.hkbu.edu.hk/main/one-belt-one-road-implications-for-the-european-union/">
						[2] Pong, Leung Kin. June 2, 2015. "“One Belt One Road” – Implications for the European Union." European Union Academic Programme Hong Kong, accessed June 26, 2017.
					</a>						
				</em>
			</h6>
			
			<h6>
				<em>
					<a class="text_link" href="https://www.americanprogress.org/issues/security/reports/2015/09/22/121628/understanding-chinas-belt-and-road-initiative/">
						[3] Viehe, Ariella, Aarthi Gunasekaran, and Hanna Downing. 2015. Understanding China’s Belt and Road Initiative. Center for American Progress. Accessed June 26, 2017.
					</a>						
				</em>
			</h6>
			
			<h6>
				<em>
					<a class="text_link" href="https://macauhub.com.mo/feature/carriage-of-trade-railway-from-chongqing-opens-new-silk-road-to-europe/">
						[4] Rosário, Louise do. March 6, 2015. Carriage of Trade – Railway from Chongqing opens new Silk Road to Europe. MacauHub. Accessed June 26, 2017. 
					</a>						
				</em>
			</h6>
		</div>

		<footer>
			By Nita Maulia, Sarah Phillips and Moris Zahtila; 2017, CC-BY-NC-SA 4.0 license.
		</footer>	
	</body>
	
	<script>
	
	
		var mapOptions = {
			//center: { lat: 35.0, lng: 58.5 },
			center: new google.maps.LatLng(35.0, 57), mapTypeId: google.maps.MapTypeId.TERRAIN,
			zoom: 3,
			styles:
			[
			  {
				"elementType": "geometry",
				"stylers": [
				  {
					"color": "#ebe3cd"
				  }
				]
			  },
			  {
				"elementType": "labels.text.fill",
				"stylers": [
				  {
					"color": "#523735"
				  }
				]
			  },
			  {
				"elementType": "labels.text.stroke",
				"stylers": [
				  {
					"color": "#f5f1e6"
				  }
				]
			  },
			  {
				"featureType": "administrative",
				"elementType": "geometry.stroke",
				"stylers": [
				  {
					"color": "#c9b2a6"
				  }
				]
			  },
			  {
				"featureType": "administrative.land_parcel",
				"elementType": "geometry.stroke",
				"stylers": [
				  {
					"color": "#dcd2be"
				  }
				]
			  },
			  {
				"featureType": "administrative.land_parcel",
				"elementType": "labels.text.fill",
				"stylers": [
				  {
					"color": "#ae9e90"
				  }
				]
			  },
			  {
				"featureType": "administrative.neighborhood",
				"stylers": [
				  {
					"visibility": "off"
				  }
				]
			  },
			  {
				"featureType": "landscape.natural",
				"elementType": "geometry",
				"stylers": [
				  {
					"color": "#dfd2ae"
				  }
				]
			  },
			  {
				"featureType": "poi",
				"elementType": "geometry",
				"stylers": [
				  {
					"color": "#dfd2ae"
				  }
				]
			  },
			  {
				"featureType": "poi",
				"elementType": "labels.text",
				"stylers": [
				  {
					"visibility": "off"
				  }
				]
			  },
			  {
				"featureType": "poi",
				"elementType": "labels.text.fill",
				"stylers": [
				  {
					"color": "#93817c"
				  }
				]
			  },
			  {
				"featureType": "poi.business",
				"stylers": [
				  {
					"visibility": "off"
				  }
				]
			  },
			  {
				"featureType": "poi.park",
				"elementType": "geometry.fill",
				"stylers": [
				  {
					"color": "#a5b076"
				  }
				]
			  },
			  {
				"featureType": "poi.park",
				"elementType": "labels.text.fill",
				"stylers": [
				  {
					"color": "#447530"
				  }
				]
			  },
			  {
				"featureType": "road",
				"stylers": [
				  {
					"visibility": "off"
				  }
				]
			  },
			  {
				"featureType": "road",
				"elementType": "geometry",
				"stylers": [
				  {
					"color": "#f5f1e6"
				  }
				]
			  },
			  {
				"featureType": "road",
				"elementType": "labels",
				"stylers": [
				  {
					"visibility": "off"
				  }
				]
			  },
			  {
				"featureType": "road",
				"elementType": "labels.icon",
				"stylers": [
				  {
					"visibility": "off"
				  }
				]
			  },
			  {
				"featureType": "road.arterial",
				"elementType": "geometry",
				"stylers": [
				  {
					"color": "#fdfcf8"
				  }
				]
			  },
			  {
				"featureType": "road.highway",
				"elementType": "geometry",
				"stylers": [
				  {
					"color": "#f8c967"
				  }
				]
			  },
			  {
				"featureType": "road.highway",
				"elementType": "geometry.stroke",
				"stylers": [
				  {
					"color": "#e9bc62"
				  }
				]
			  },
			  {
				"featureType": "road.highway.controlled_access",
				"elementType": "geometry",
				"stylers": [
				  {
					"color": "#e98d58"
				  }
				]
			  },
			  {
				"featureType": "road.highway.controlled_access",
				"elementType": "geometry.stroke",
				"stylers": [
				  {
					"color": "#db8555"
				  }
				]
			  },
			  {
				"featureType": "road.local",
				"elementType": "labels.text.fill",
				"stylers": [
				  {
					"color": "#806b63"
				  }
				]
			  },
			  {
				"featureType": "transit",
				"stylers": [
				  {
					"visibility": "off"
				  }
				]
			  },
			  {
				"featureType": "transit.line",
				"elementType": "geometry",
				"stylers": [
				  {
					"color": "#dfd2ae"
				  }
				]
			  },
			  {
				"featureType": "transit.line",
				"elementType": "labels.text.fill",
				"stylers": [
				  {
					"color": "#8f7d77"
				  }
				]
			  },
			  {
				"featureType": "transit.line",
				"elementType": "labels.text.stroke",
				"stylers": [
				  {
					"color": "#ebe3cd"
				  }
				]
			  },
			  {
				"featureType": "transit.station",
				"elementType": "geometry",
				"stylers": [
				  {
					"color": "#dfd2ae"
				  }
				]
			  },
			  {
				"featureType": "water",
				"elementType": "geometry.fill",
				"stylers": [
				  {
					"color": "#b9d3c2"
				  }
				]
			  },
			  {
				"featureType": "water",
				"elementType": "labels.text",
				"stylers": [
				  {
					"visibility": "off"
				  }
				]
			  },
			  {
				"featureType": "water",
				"elementType": "labels.text.fill",
				"stylers": [
				  {
					"color": "#92998d"
				  }
				]
			  }
			]
		};

		var mapEl = document.getElementById('map');
		var map = new google.maps.Map(mapEl, mapOptions);
		var infoWindow = new google.maps.InfoWindow;
		

		google.maps.event.addDomListener(window, "resize", function() {
			google.maps.event.trigger(map, "resize");
			map.setZoom( map.getZoom() );
		});
				
		// ------------------------ set train route ------------------------
		var train = [
			{lat: 50.0641917, lng: 6.328125},
			{lat: 51.3992057, lng: 14.0625},
			{lat: 52.0524905, lng: 22.8515625},
			{lat: 54.162434, lng: 33.75},
			{lat: 46.0732306, lng: 81.5625},
			{lat: 43.3251777, lng: 86.1328125},
			{lat: 38.822591, lng: 98.0859375},
			{lat: 37.4399741, lng: 106.875},
			{lat: 30.1451272, lng: 103.7109375},

			{lat: 37.4399741, lng: 106.875},
			{lat: 38.822591, lng: 98.0859375},
			{lat: 43.3251777, lng: 86.1328125},
			{lat: 46.0732306, lng: 81.5625},
			{lat: 54.162434, lng: 33.75},
			{lat: 52.0524905, lng: 22.8515625},
			{lat: 51.3992057, lng: 14.0625},
			{lat: 50.0641917, lng: 6.328125}
		];
			
		var train_polyline_background = new google.maps.Polyline({
			path: train,
			geodesic: true,
			strokeColor: '#cc99cc',
			//strokeOpacity: 1.0,
			strokeWeight: 3.5,
			map: map
		});
		
		var train_polyline = new google.maps.Polyline({
			path: train,
			geodesic: true,
			strokeColor: '#800080',
			//strokeOpacity: 1.0,
			strokeWeight: 2,
			map: map
		});
		
		//var img_train = 'pics/train.png';
		
		var img_train = {
          url: 'pics/train.png',
          // This marker is 20 pixels wide by 32 pixels high.
          //size: new google.maps.Size(20, 32),
          // The origin for this image is (0, 0).
         // origin: new google.maps.Point(0, 0),
          // The anchor for this image is the base of the flagpole at (0, 32).
          anchor: new google.maps.Point(30, 30),
        };
		
		var marker_train = new google.maps.Marker({
			position: train[0],
			map: map,
			icon: img_train,
			//icon.setCenter(new google.maps.LatLng(position)) = img_train,
		});

		// ------------------------ set ship route ------------------------
		var ship = [
			{lat: 51.0690167, lng: 3.0761719},
			{lat: 51.0690167, lng: 1.6699219},
			{lat: 50.2893393, lng: -0.0878906},
			{lat: 49.9512199, lng: -2.0214844},
			{lat: 49.4966745, lng: -4.1308594},
			{lat: 48.9224993, lng: -5.5371094},
			{lat: 47.6357836, lng: -7.2949219},
			{lat: 45.8287993, lng: -9.0527344},
			{lat: 43.4529189, lng: -10.2832031},
			{lat: 41.3768086, lng: -10.6347656},
			{lat: 39.0959629, lng: -10.9863281},
			{lat: 37.7185903, lng: -10.4589844},
			{lat: 36.0313318, lng: -9.2285156},
			{lat: 35.8890501, lng: -7.9980469},
			{lat: 36.0313318, lng: -6.0644531},
			{lat: 36.1733569, lng: -3.2519531},
			{lat: 36.456636, lng: -0.7910156},
			{lat: 37.3002753, lng: 1.4941406},
			{lat: 37.7185903, lng: 3.2519531},
			{lat: 37.8575072, lng: 6.2402344},
			{lat: 37.9961627, lng: 8.7011719},
			{lat: 37.8575072, lng: 10.8105469},
			{lat: 37.0200982, lng: 12.2167969},
			{lat: 35.6751474, lng: 14.3261719},
			{lat: 34.6693585, lng: 16.7871094},
			{lat: 31.5785354, lng: 29.4433594},
			{lat: 29.4587312, lng: 32.5634766},
			{lat: 27.3717673, lng: 34.0576172},
			{lat: 13.2399455, lng: 42.8027344},
			{lat: 12.2111802, lng: 43.8574219},
			{lat: 12.0393206, lng: 45.2636719},
			{lat: 12.2111802, lng: 48.2519531},
			{lat: 13.0687767, lng: 51.4160156},
			{lat: 13.7527247, lng: 55.0195313},
			{lat: 14.4346802, lng: 60.2929688},
			{lat: 13.7527247, lng: 63.4570313},
			{lat: 13.0687767, lng: 65.9179688},
			{lat: 10.660608, lng: 70.4882813},
			{lat: 6.8391696, lng: 78.5742188},
			{lat: 4.7406754, lng: 81.0351563},
			{lat: 3.6888551, lng: 86.3085938},
			{lat: 5.0909442, lng: 89.1210938},
			{lat: 6.8391696, lng: 91.9335938},
			{lat: 7.5367643, lng: 94.3945313},
			{lat: 7.1881009, lng: 97.9101563},
			{lat: 5.0909442, lng: 99.3164063},
			{lat: 2.6357886, lng: 100.7226563},
			{lat: 0.5273363, lng: 103.8867188},
			{lat: 1.2303742, lng: 106.6992188},
			{lat: 4.0396178, lng: 110.5664063},
			{lat: 7.8851473, lng: 113.7304688},
			{lat: 12.7260843, lng: 115.8398438},
			{lat: 18.1458518, lng: 115.4882813},
			{lat: 22.7559207, lng: 114.4335938},
			{lat: 22.4313402, lng: 116.015625},
			{lat: 23.0797318, lng: 119.53125},
			{lat: 25.3241665, lng: 121.2890625},
			{lat: 29.0753752, lng: 123.3984375},
			{lat: 31.5036293, lng: 123.3984375},
			{lat: 32.3985158, lng: 121.9921875}
		];
		
		var ship_polyline_background = new google.maps.Polyline({
			path: ship,
			geodesic: true,
			strokeColor: '#40e0d0',
			strokeOpacity: 1.0,
			strokeWeight: 3.5,
			map: map
		});
		
		var ship_polyline = new google.maps.Polyline({
			path: ship,
			geodesic: true,
			strokeColor: '#207068',
			strokeOpacity: 1.0,
			strokeWeight: 2,
			map: map
		});

		var img_ship = 'pics/ship.png';
		var marker_ship = new google.maps.Marker({
			position: ship[0],
			map: map,
			icon: img_ship
		});

		// ------------------------ main program for train animation ------------------------

		var DURATION_train = 30000,
			DURATION_ship = (DURATION_train/2) * 2.25;

		var length_train = google.maps.geometry.spherical.computeLength(
				train_polyline.getPath().getArray()),
			length_ship = google.maps.geometry.spherical.computeLength(
				ship_polyline.getPath().getArray());

		var startTime = Date.now() + 1500;
		//var pos = 0;
		
		//var direction_train = 1;
				
		var interpolator_train = gPolyInterpolator(train_polyline),
			interpolator_ship = gPolyInterpolator(ship_polyline);

		// this function will be called in every frame
		function frame() {

			var time = Date.now() - startTime;
			var trainTime = time;
			
			if (time > DURATION_train / 2) {
				var trainTime = trainTime - 2000;
				trainTime = Math.max(trainTime, DURATION_train / 2);
				
				//pause the train for few seconds
				//timerHandle[train] = setTimeout("animate("+train+",50)", 2000);
				
				//stop the animation
				if (time > DURATION_ship) {	
					// stop (no new animation frame is requested
					window.setTimeout(function(){
						startTime = Date.now();
						frame();
					}, 5000);
					return;
				};					
			};
			
			var pos_train = length_train * trainTime / DURATION_train,
				pos_ship = length_ship * time / DURATION_ship;
					
			var train = interpolator_train(pos_train),
				ship = interpolator_ship(pos_ship);
									
			marker_train.setPosition(train);
			marker_ship.setPosition(ship);									
					
			window.requestAnimationFrame(frame);
		};

		// start animation
		frame();

		// ------------------------ interpolation function for animation------------------------
		// returns a function to interpolate along a google maps polyline / polygon 
		function gPolyInterpolator(polyline) {
			if (!google.maps.geometry.spherical) {
				console.error("This function requires the google.maps.geometry.spherical library!");
				console.error("Load it as described at https://developers.google.com/maps/documentation/javascript/libraries");
				return null;
			}
					
			var path = polyline.getPath();
			
			return function(distance) {
						
				var numVertices = path.getLength();
						
				if (distance <= 0) return path.getAt(0);
				if (numVertices < 2) return path.getAt(0);
							
				var distNext = 0,
					distLast = 0;
							
				for (var i=1; (i < numVertices && distNext < distance); i++) {
					distLast = distNext;
					distNext += google.maps.geometry.spherical.computeDistanceBetween(path.getAt(i), path.getAt(i-1));
				}
							
				if (distNext < distance) {
					return path.getAt(numVertices-1);
				}
							
				var alpha = (distance-distLast)/(distNext-distLast);
							
				return google.maps.geometry.spherical.interpolate(path.getAt(i-2), path.getAt(i-1), alpha);
			}
		}			
	</script>	
	
	
</html>
